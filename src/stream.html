<!DOCTYPE html>
<html>
  <head>
    <title>Tapahtumasivu | Stream</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      href="/image/icons/favicon-16x16.png"
      sizes="16x16"
    />
    <link
      rel="icon"
      type="image/png"
      href="/image/icons/favicon-32x32.png"
      sizes="32x32"
    />
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <link
      href="https://unpkg.com/video.js@7/dist/video-js.min.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/@videojs/themes@1/dist/fantasy/index.css"
      rel="stylesheet"
    />
    <link href="/styles/output.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
  </head>
  <body class="bg-gray-50 dark:bg-gray-50 flex flex-col min-h-screen">
    <nav class="bg-white border-gray-200 px-2 sm:px-4 py-2.5">
      <div
        class="container flex flex-wrap justify-between items-center mx-auto"
      >
        <a href="./index.html" class="flex items-center">
          <span class="self-center text-xl font-semibold whitespace-nowrap"
            >Tapahtumasivu</span
          >
        </a>
        <button
          data-collapse-toggle="navbar-default"
          type="button"
          class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
          aria-controls="navbar-default"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-6 h-6"
            aria-hidden="true"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
        <div class="hidden w-full md:block md:w-auto" id="navbar-default">
          <ul
            class="flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white"
          >
            <li>
              <a href="/index.html" class="nav-link">Etusivu</a>
            </li>
            <li>
              <a href="/schedule.html" class="nav-link">Ohjelma</a>
            </li>
            <li>
              <a href="/stream.html" class="nav-link-active" aria-current="page">Stream</a>
            </li>
            <li>
              <a href="/contact.html" class="nav-link">Yhteystiedot</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div
      class="flex flex-col md:flex-row min-h-[calc(100vh-60px)] md:min-h-[calc(100vh-72px)] w-full"
    >
      <div id="stream" class="bg-black w-full md:w-3/4 min-h-[350px]">
        <video
          id="my-video"
          class="video-js vjs-theme-fantasy vjs-custom-theme w-full h-full"
        >
          <source src="/image/videooo2.mp4" type="video/mp4" />
          <!-- <source
            src="http://xxxxxxxxxxxx/jakelu/xxxxxxxxxxxx/playlist.m3u8"
            type="application/x-mpegURL"
          /> -->
          <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading
            to a web browser that
            <a href="https://videojs.com/html5-video-support/" target="_blank"
              >supports HTML5 video</a
            >
          </p>
        </video>
      </div>

      <div id="chat" class="relative bg-gray-200 md:w-1/4 h-full w-full">
        <div id="main-container" class="w-full h-full flex flex-col my-auto mx-auto pb-0 px-0 items-center bg-middlepurple">
          <div id="selectStuffContainer" class="w-full text-sm border-b solid border-richblack">
            <label for="rooms">Choose a room:</label>
            <select name="rooms" id="rooms" class="m-2.5" onchange="joinRoom(this)">
              <option disabled hidden value selected>Select</option>
              <option value="1">Room 1</option>
              <option value="2">Room 2</option>
              <option value="3">Room 3</option>
            </select>
            <label for="username">Enter username:</label>
            <input
              type="text"
              id="username"
              placeholder="Username..."
              required="true"
            />
          </div>
      
          <ul id="messages" class="w-full h-full list-none m-0 p-0 max-h-[calc(100vh-50px)!important] overflow-auto bg-white"></ul>
          
          <form id="message-form" class="absolute bottom-0 flex flex-row w-full border-t solid border-richblack" action="#">
            <input id="m" class="w-4/5 py-1.5 px-3 border-0" autocomplete="off" placeholder="Enter message..." />
            <input type="submit" class="w-1/5 bg-emerald text-richblack border-0 border-solid" value="Send" />
          </form>
        
        </div>
      </div>
    </div>

    <div
      class="bg-footer-texture drop-shadow-footer-shadow bg-no-repeat bg-bottom bg-cover w-full flex justify-end items-end min-h-[645px] -mb-1"
    ></div>
    <footer
      class="p-4 min-h-[245px] bg-middlepurple sticky z-10 shadow md:flex md:items-center md:justify-between md:p-6"
    >
      <span id="copyright" class="text-sm text-white sm:text-center"
        >Â© 2022 All Rights Reserved.
      </span>
      <div id="socials" class="flex justify-center items-center">
        <div class="w-full h-auto justify-between">
          <button class="h-10 w-10 cursor-pointer border-none bg-[url(/image/icons/twitter-social-icons-circle-white.png)] bg-no-repeat bg-[length:100%]">
            <button
              style="
                height: 40px;
                width: 40px;
                background: url(./image/icons/twitter-social-icons-circle-white.png)
                  no-repeat;
                background-size: 100%;
                cursor: pointer;
                border: none;
              "
            ></button>
            <button
              style="
                height: 40px;
                width: 40px;
                background: url(/image/icons/twitter-social-icons-circle-white.png)
                  no-repeat;
                background-size: 100%;
                cursor: pointer;
                border: none;
              "
            ></button>
          </button>
        </div>
      </div>
    </footer>
    <script>
      let videoplayer = document.querySelector(".video-js");

      console.log(videoplayer);

      videojs(videoplayer, {
        controls: true,
        autoplay: false,
        pereload: "auto",
        poster: "/image/uCM8Mtw.jpeg",
      });
    </script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/chat.js"></script>
  </body>
</html>
